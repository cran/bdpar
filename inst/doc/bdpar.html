<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Miguel Ferreiro Diaz" />

<meta name="date" content="2023-12-12" />

<title>A Brief Introduction to bdpar</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">A Brief Introduction to bdpar</h1>
<h4 class="author">Miguel Ferreiro Diaz</h4>
<h4 class="date">2023-12-12</h4>



<div id="abstract" class="section level1">
<h1>Abstract</h1>
<div style="text-align: justify">
<p><em>Bdpar</em> is a tool to easily build customized data flows to
pre-process large volumes of information from different sources. To this
end, <em>bdpar</em> allows to (i) easily use and create new
functionalities and (ii) develop new data source extractors according to
the user needs. Additionally, the package provides by default a
predefined data flow to extract and preprocess the most relevant
information (tokens, dates, … ) from some textual sources (SMS, email,
YouTube comments).</p>
</div>
</div>
<div id="introduction-and-basics" class="section level1">
<h1>Introduction and basics</h1>
<p>The package has been develop using R6 class for implement, for
example, the extraction of input data and the 18 Pipes that there are in
the application by default. Next, the different tools that make up the
application are explained and how the features it offers can be
extended.</p>
<p>In case of any more specific doubt, use the package help through
<em>help(package = “bdpar”)</em>.</p>
<div id="instance" class="section level2">
<h2>Instance</h2>
<div style="text-align: justify">
<p>To manage the information obtained from the input data, the package
uses an structure, called <em>Instance</em>, which allows store the
extracted <strong>properties</strong> of the different <em>Pipes</em>.
Below are described all the fields comprising the <em>Instance</em>
class.</p>
<ul>
<li><strong>source</strong>: The input data without modifications.</li>
<li><strong>date</strong>: The date on which the <strong>source</strong>
was generated or sent.</li>
<li><strong>data</strong>: The input data with modifications.</li>
<li><strong>properties</strong>: Contains a list of properties extracted
from the <strong>data</strong> that is being processed.</li>
<li><strong>path</strong>: Identifier of the input data.</li>
<li><strong>isValid</strong>: Indicates if the <em>Instance</em> is
valid or not.</li>
<li><strong>flowPipes</strong>: The list contains the <em>Pipes</em>
that the <em>Instance</em> has passed through.</li>
<li><strong>banPipes</strong>: The list contains the <em>Pipes</em> that
can not be executed from that moment.</li>
</ul>
</div>
</div>
<div id="types-of-input-data-available-by-default" class="section level2">
<h2>Types of input data available by default</h2>
<p>The package have four input data implemented, which are:</p>
<ul>
<li><strong>Email</strong>:
<ul>
<li>File extension: .eml</li>
<li>Subclass of <em>Instance</em>: ExtractorEml</li>
</ul></li>
<li><strong>SMS</strong>:
<ul>
<li>File extension: .tsms</li>
<li>Subclass of <em>Instance</em>: ExtractorSms</li>
</ul></li>
<li><strong>ID’s comments of YouTube</strong>:
<ul>
<li>File extension: .ytbid</li>
<li>Subclass of <em>Instance</em>: ExtractorYtbid</li>
</ul></li>
</ul>
<div style="text-align: justify">
<p><strong>bdpar</strong> is able to load data source from multiple
sources. In fact, by default is fully compatible with Email (eml), SMS
(tsms) and YouTube (ytbid) data sources. However, new data loaders can
be easily implemented by implementing (i) a new class implementing
<em>obtainSource</em> and <em>obtainDate</em> abstract methods from the
<em>Instance</em> class and (ii) registering this new class on the
<em>ExtractorFactory</em> class through its method
<em>registerExtractor</em>.</p>
<p>Is important to take into account that the type of Instance used is
deducted by default according to the file extension. However, this
behaviour can be easily modelled according to user needs.</p>
</div>
<div id="how-to-create-a-customized-input-data-extractors." class="section level3">
<h3>How to create a customized input data extractors.</h3>
<div style="text-align: justify">
<p>This example shows how a new type of <em>Instance</em> (named
<em>ExtractorTytb</em>) is be created. In this particular case,
<em>ExtractorTytb</em> is responsible of extracting textual comments
from Youtube files (extension .tytb).</p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(R6)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>ExtractorTytb <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="at">classname =</span> <span class="st">&quot;ExtractorTytb&quot;</span>,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="at">inherit =</span> Instance,</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(path) {</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>      <span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;character&quot;</span> <span class="sc">%in%</span> <span class="fu">class</span>(path)) {</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">&quot;[ExtractorTytb][initialize][Error] &quot;</span>,</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>             <span class="st">&quot;Checking the type of the variable: path &quot;</span>,</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>             <span class="fu">class</span>(path))</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>      }</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">initialize</span>(path)</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>    },</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>    <span class="at">obtainDate =</span> <span class="cf">function</span>() {</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">setDate</span>(<span class="fu">file.info</span>(super<span class="sc">$</span><span class="fu">getPath</span>())[[<span class="st">&quot;ctime&quot;</span>]])</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>    },</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>    <span class="at">obtainSource =</span> <span class="cf">function</span>() {</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">setSource</span>(<span class="fu">readLines</span>(super<span class="sc">$</span><span class="fu">getPath</span>(), </span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>                                <span class="at">warn =</span> <span class="cn">FALSE</span>))</span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">setData</span>(super<span class="sc">$</span><span class="fu">getSource</span>())</span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>    }</span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a>  )</span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="enabling-a-new-instance." class="section level3">
<h3>Enabling a new Instance.</h3>
<div style="text-align: justify">
<p>In order to automatically execute the new <em>Instance</em> class
(<em>ExtractorTytb</em>), is must be registered through
<em>registerExtractor</em> method of <em>ExtractorFactory</em> class.
Below is shown an example describing how this extractor is
registered.</p>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(bdpar)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>extractors <span class="ot">&lt;-</span> ExtractorFactory<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>extractors<span class="sc">$</span><span class="fu">registerExtractor</span>(<span class="st">&quot;tytb&quot;</span>, ExtractorTytb)</span></code></pre></div>
</div>
</div>
<div id="pipe" class="section level2">
<h2>Pipe</h2>
<div style="text-align: justify">
<p>A pipe consists of a simple task responsible for generating a new
output by applying some transformations over the input data. A set of
sequentially interconnected pipes to achieve a required result is called
pipeline. Pipes in bdpar are represented as <em>GenericPipe</em> class
while the pipelining process is defined through <em>GenericPipeline</em>
abstract class.</p>
</div>
<div id="dependencies" class="section level3">
<h3>Dependencies</h3>
<div style="text-align: justify">
<p>An important feature that has been added to the Pipe concept is the
control of the functionalities that go before and after a Pipe, that is,
a control of the preprocessing flow. On the one hand, this control
allows us to ensure that if a Pipe needs another before, it has already
been executed. On the other hand, prevents a Pipe can not be executed
later because it interferes with the functionality of a previous
Pipe.</p>
<p>This functionality can be customized in each of the pipes that the
user uses and/or develops, allowing to decide what to do in the
situation in which the dependencies are not respected. Internally, the
operator always checks if the Instance satisfies the dependencies to
enter the following pipe.</p>
</div>
</div>
</div>
<div id="pipes-available-by-default" class="section level2">
<h2>Pipes available by default</h2>
<p>The framework provides over 18 different pipes (inherited from
<em>GenericPipe</em>). Each pipe is classified following two categories:
(i) basic-functionality pipes and (ii) external file access pipes.</p>
<div style="text-align: justify">
<div id="i-pipes-of-basic-functionality" class="section level3">
<h3>(i) Pipes of basic functionality</h3>
<div id="file2pipe" class="section level4">
<h4><strong>File2Pipe</strong></h4>
<p>Obtains the <strong>source</strong> using the <em>obtainSource</em>
method which implements the subclass of the superclass
<em>Instance</em>. By default, the subclass implemented are
<em>ExtractorEml</em>, <em>ExtractorSms</em> and
<em>ExtractorYtbid</em>.</p>
</div>
<div id="findemojipipe" class="section level4">
<h4><strong>FindEmojiPipe</strong></h4>
<p>Creates a new <strong>emoji</strong> property where the emojis stored
that are in the <strong>data</strong> attribute are stored. In addition,
you can decide if you want to modify the <strong>data</strong> property
of the <em>Instance</em>, removing the emojis that are found.</p>
</div>
<div id="findemoticonpipe" class="section level4">
<h4><strong>FindEmoticonPipe</strong></h4>
<p>Creates a new <strong>emoticon</strong> property where the emoticons
stored that are in the <strong>data</strong> attribute are stored. In
addition, you can decide if you want to modify the <strong>data</strong>
property of the <em>Instance</em>, removing the emoticons that are
found.</p>
</div>
<div id="findhashtagpipe" class="section level4">
<h4><strong>FindHashtagPipe</strong></h4>
<p>Creates a new <strong>hashtag</strong> property where the hashtags
stored that are in the <strong>data</strong> attribute are stored. In
addition, you can decide if you want to modify the <strong>data</strong>
property of the <em>Instance</em>, removing the hashtags that are
found.</p>
</div>
<div id="findurlpipe" class="section level4">
<h4><strong>FindUrlPipe</strong></h4>
<p>Creates a new <strong>URLs</strong> property where the URLs stored
that are in the <strong>data</strong> attribute are stored. In addition,
you can decide if you want to modify the <strong>data</strong> property
of the <em>Instance</em>, removing the URLs that are found.</p>
</div>
<div id="findusernamepipe" class="section level4">
<h4><strong>FindUserNamePipe</strong></h4>
<p>Creates a new <strong>userName</strong> property where the user names
stored that are in the <strong>data</strong> attribute are stored. In
addition, you can decide if you want to modify the <strong>data</strong>
property of the <em>Instance</em>, removing the user names that are
found.</p>
</div>
<div id="guessdatepipe" class="section level4">
<h4><strong>GuessDatePipe</strong></h4>
<p>Obtains the <em>date</em> using the <em>obtainDate</em> method which
implements the subclass of the superclass <em>Instance</em>. By default,
the subclass implemented are <em>ExtractorEml</em>,
<em>ExtractorSms</em> and <em>ExtractorYtbid</em>.</p>
</div>
<div id="guesslanguagepipe" class="section level4">
<h4><strong>GuessLanguagePipe</strong></h4>
<p>Guesses the language by using language detector of library cld2.
Creates the <strong>language</strong> property which indicates the idiom
text.</p>
</div>
<div id="measurelengthpipe" class="section level4">
<h4><strong>MeasureLengthPipe</strong></h4>
<p>Creates the <strong>length</strong> property which indicates the
length of the text. The property’s name is customize throught the class
constructor.</p>
</div>
<div id="storefileextpipe" class="section level4">
<h4><strong>StoreFileExtPipe</strong></h4>
<p>Creates the <strong>extension</strong> property which indicates
file’s extension.</p>
</div>
<div id="targetassigningpipe" class="section level4">
<h4><strong>TargetAssigningPipe</strong></h4>
<p>Identifies the class of the <em>Instance</em>
(<strong>target</strong> attribute), starting with the path of the
file.</p>
</div>
<div id="teecsvpipe" class="section level4">
<h4><strong>TeeCSVPipe</strong></h4>
<p>Generates a CSV from the <strong>properties</strong> of the
<em>Instance</em>.</p>
</div>
<div id="tolowercasepipe" class="section level4">
<h4><strong>ToLowerCasePipe</strong></h4>
<p>Converts the data of an <em>Instance</em> to lower case.</p>
</div>
</div>
<div id="ii-pipes-that-access-external-files" class="section level3">
<h3>(ii) Pipes that access external files</h3>
<div id="abbreviationpipe" class="section level4">
<h4><strong>AbbreviationPipe</strong></h4>
<p>Creates a new property <strong>abbreviation</strong>, where the
abbreviations that are in the <strong>data</strong> attribute are
stored. In addition, you can decide if you want to modify the
<strong>data</strong> property of the <em>Instance</em>, replacing the
abbreviations found for its extended version. The abbreviations and
their substitutions have to be stored in files of type json the file
associated with the language of the text is chosen. The loading and
handling of the information of these files will be done through the
<em>ResourceHandler</em> class.</p>
</div>
<div id="contractionpipe" class="section level4">
<h4><strong>ContractionPipe</strong></h4>
<p>Creates a new property <strong>contraction</strong>, where the
contractions that are in the <strong>data</strong> attribute are stored.
In addition, you can decide if you want to modify the
<strong>data</strong> property of the <em>Instance</em>, replacing the
contractions found for its extended version. The contractions and their
substitutions have to be stored in files of type json the file
associated with the language of the text is chosen. The loading and
handling of the information of these files will be done through the
<em>ResourceHandler</em> class.</p>
</div>
<div id="interjectionpipe" class="section level4">
<h4><strong>InterjectionPipe</strong></h4>
<p>Creates a new property <strong>interjection</strong>, where the
interjections that are in the <strong>data</strong> attribute are
stored. In addition, you can decide if you want to modify the
<strong>data</strong> property of the <em>Instance</em>, removing
interjections. The interjections will be stored in files of type json
and the file associated with the language of the text is chosen. The
loading and handling of the information of these files will be done
through the <em>ResourceHandler</em> class.</p>
</div>
<div id="slangpipe" class="section level4">
<h4><strong>SlangPipe</strong></h4>
<p>Creates a new property <strong>slang</strong>, where the slang words
that are in the <strong>data</strong> attribute are stored. In addition,
you can decide if you want to modify the <strong>data</strong> property
of the <em>Instance</em>, replacing the contractions for its extended
version. The words slang and their substitutions hava to be stored in
files of type json and the file associated with the language of the text
is chosen. The loading and handling of the information of these files
will be done through the <em>ResourceHandler</em> class.</p>
</div>
<div id="stopwordpipe" class="section level4">
<h4><strong>StopWordPipe</strong></h4>
<p>Creates a new property <strong>stopwords</strong>, where the
<em>empty words</em> that are in the <strong>data</strong> attribute are
stored. In addition, you can decide if you want to modify the data
property of the <em>Instance</em>, removing the <em>empty words</em>.
The <em>empty words</em> will be stored in files of type json and the
file associated with the language of the text is chosen. The loading and
handling of the information of these files will be done through the
<em>ResourceHandler</em> class.</p>
</div>
</div>
</div>
</div>
<div id="how-to-create-your-customized-pipe" class="section level2">
<h2>How to create your customized Pipe</h2>
<div style="text-align: justify">
<p>Additionally, in order to improve the customization capabilities,
bdpar allows to easily desing and develop new personalized pipes by
implementing the pipe method included in the <em>GenericPipe</em> class
(inheritance relation). The code included below, exemplified the
creation of a simple pipe in charge of removing multiple consecutive
spaces from a string.</p>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(R6)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>RemovesWhiteSpaces <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="st">&quot;RemovesWhiteSpaces&quot;</span>,</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="at">inherit =</span> GenericPipe,</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(<span class="at">propertyName =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>                          <span class="at">alwaysBeforeDeps =</span> <span class="fu">list</span>(),</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>                          <span class="at">notAfterDeps =</span> <span class="fu">list</span>()) {</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>      <span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;character&quot;</span> <span class="sc">%in%</span> <span class="fu">class</span>(propertyName)) {</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">&quot;[RemovesWhiteSpaces][initialize][Error] &quot;</span>,</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>             <span class="st">&quot;Checking the type of the &#39;propertyName&#39; variable: &quot;</span>,</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>             <span class="fu">class</span>(propertyName))</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>      }</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>      <span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;list&quot;</span> <span class="sc">%in%</span> <span class="fu">class</span>(alwaysBeforeDeps)) {</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">&quot;[RemovesWhiteSpaces][initialize][Error] &quot;</span>,</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>             <span class="st">&quot;Checking the type of the &#39;alwaysBeforeDeps&#39; variable: &quot;</span>,</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>             <span class="fu">class</span>(alwaysBeforeDeps))</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>      }</span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a>      <span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;list&quot;</span> <span class="sc">%in%</span> <span class="fu">class</span>(notAfterDeps)) {</span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">&quot;[RemovesWhiteSpaces][initialize][Error] &quot;</span>,</span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>             <span class="st">&quot;Checking the type of the &#39;notAfterDeps&#39; variable: &quot;</span>,</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a>             <span class="fu">class</span>(notAfterDeps))</span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a>      }</span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">initialize</span>(propertyName, alwaysBeforeDeps, notAfterDeps)</span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a>    },</span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a>    <span class="at">pipe =</span> <span class="cf">function</span>(instance) {</span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a>      <span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;Instance&quot;</span> <span class="sc">%in%</span> <span class="fu">class</span>(instance)) {</span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">&quot;[RemovesWhiteSpaces][pipe][Error] &quot;</span>,</span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a>             <span class="st">&quot;Checking the type of the &#39;instance&#39; variable: &quot;</span>,</span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a>             <span class="fu">class</span>(instance))</span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a>      }</span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a>      instance<span class="sc">$</span><span class="fu">setData</span>(<span class="fu">trimws</span>(<span class="at">x =</span> instance<span class="sc">$</span><span class="fu">getData</span>()))</span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a>      </span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">length</span>(instance<span class="sc">$</span><span class="fu">getData</span>()) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a>        instance<span class="sc">$</span><span class="fu">invalidate</span>()</span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a>      }</span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a>      </span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a>      <span class="fu">return</span>(instance)</span>
<span id="cb3-39"><a href="#cb3-39" tabindex="-1"></a>    }</span>
<span id="cb3-40"><a href="#cb3-40" tabindex="-1"></a>  )</span>
<span id="cb3-41"><a href="#cb3-41" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="flow-of-pipes-pipelining-proccess" class="section level2">
<h2>Flow of Pipes (pipelining proccess)</h2>
<div style="text-align: justify">
<p>Flow of pipes is the set of pipes that comprising the whole
preprocessing proccess. By default bdpar provides a default pipelining
proccess (implemented in <em>DefaultPipeline</em>) comprising all the 18
available pipes.</p>
</div>
<div id="flow-of-pipes-available-by-default" class="section level3">
<h3>Flow of Pipes available by default</h3>
<p>The code included below shows a pipelining example comprising 18
pipes:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>  instance <span class="sc">%&gt;|%</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>    TargetAssigningPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>    StoreFileExtPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    GuessDatePipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    File2Pipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    MeasureLengthPipe<span class="sc">$</span><span class="fu">new</span>(<span class="at">propertyName =</span> <span class="st">&quot;length_before_cleaning_text&quot;</span>) <span class="sc">%&gt;|%</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>    FindUserNamePipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>    FindHashtagPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>    FindUrlPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>    FindEmoticonPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>    FindEmojiPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    GuessLanguagePipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>    ContractionPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>    AbbreviationPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>    SlangPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>    ToLowerCasePipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>    InterjectionPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>    StopWordPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>    MeasureLengthPipe<span class="sc">$</span><span class="fu">new</span>(<span class="at">propertyName =</span> <span class="st">&quot;length_after_cleaning_text&quot;</span>) <span class="sc">%&gt;|%</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>    TeeCSVPipe<span class="sc">$</span><span class="fu">new</span>()</span></code></pre></div>
</div>
<div id="create-your-own-flow-of-pipes" class="section level3">
<h3>Create your own flow of Pipes</h3>
<div style="text-align: justify">
<p>Additionally, in order to build a flexible framework, bdpar allows
users to define their own (and customized) flow of pipes. To accomplish
this task, it is necessary to create a new class that inherits from
<em>GenericPipeline</em> and implements the <em>execute()</em> method.
Below is included an example of how a new pipe (called
<em>TestPipeline</em>) is created:</p>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">library</span>(R6)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">library</span>(bdpar)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>TestPipeline <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="st">&quot;TestPipeline&quot;</span>,</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="at">inherit =</span> GenericPipeline,</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>() {</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>    },</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>    <span class="at">execute =</span> <span class="cf">function</span>(instance) {</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>      <span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;Instance&quot;</span> <span class="sc">%in%</span> <span class="fu">class</span>(instance)) {</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">&quot;[TestPipeline][execute][Error] &quot;</span>,</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>             <span class="st">&quot;Checking the type of the &#39;instance&#39; variable: &quot;</span>,</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>             <span class="fu">class</span>(instance))</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>      }</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">&quot;[TestPipeline][execute][Info] &quot;</span>, instance<span class="sc">$</span><span class="fu">getPath</span>())</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>      <span class="fu">tryCatch</span>(</span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>        instance <span class="sc">%&gt;|%</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>          TargetAssigningPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>          StoreFileExtPipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>          File2Pipe<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a>          RemovesWhiteSpaces<span class="sc">$</span><span class="fu">new</span>() <span class="sc">%&gt;|%</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a>          TeeCSVPipe<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a>        ,</span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>        <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a>          <span class="fu">message</span>(<span class="st">&quot;[TestPipeline][execute][Error]&quot;</span>, instance<span class="sc">$</span><span class="fu">getPath</span>(), <span class="st">&quot; :&quot;</span>, <span class="fu">paste</span>(e))</span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a>          instance<span class="sc">$</span><span class="fu">invalidate</span>()</span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a>        }</span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a>      )</span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a>      <span class="fu">return</span>(instance)</span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a>    }</span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a>  )</span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a>)</span></code></pre></div>
<div style="text-align: justify">
<p>Alternatively, the pre-processing flow can be dynamically constructed
through the <em>DynamicPipeline</em> class. An example of its use is
shown below. To see the rest of the options offered by this method,
access the package’s help through <em>help(package = “bdpar”)</em>.</p>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">library</span>(bdpar)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>pipeline <span class="ot">&lt;-</span> DynamicPipeline<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>pipeline<span class="sc">$</span><span class="fu">add</span>(<span class="fu">list</span>(TargetAssigningPipe<span class="sc">$</span><span class="fu">new</span>(),StoreFileExtPipe<span class="sc">$</span><span class="fu">new</span>(),File2Pipe<span class="sc">$</span><span class="fu">new</span>()), <span class="at">pos =</span> <span class="cn">NULL</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>pipeline<span class="sc">$</span><span class="fu">add</span>(<span class="fu">list</span>(TeeCSVPipe<span class="sc">$</span><span class="fu">new</span>()), <span class="at">pos =</span> <span class="cn">NULL</span>)</span></code></pre></div>
</div>
</div>
<div id="operator" class="section level2">
<h2>Operator</h2>
<div style="text-align: justify">
<p>To manage the flow of pipes, there is a new operator called
<strong>%&gt;|%</strong>. This operator allows check if the
<em>Instance</em> was invalidated in the lastest <em>Pipe</em> or not.
In the case that the <em>Instance</em> is invalid, the flow of
<em>Pipes</em> stops and the preprocessing pass to the next
<em>Instance</em>. In the other case, the <em>Instance</em> continues
the current flow of <em>Pipes</em>. On the other hand, it facilitates
the workflow between pipes because it automatically invokes the
<em>pipe</em> function of the objects that pass through it. Finally, it
should be noted that it also checks whether an <em>Instance</em>
complies with the requirements to enter the following pipe.</p>
</div>
</div>
</div>
<div id="bdpar.options" class="section level1">
<h1>bdpar.Options</h1>
<div style="text-align: justify">
<p>The <em>bdpar.Options</em> object is used to store the different
configuration parameters of the pipes used in the preprocessing. For
example, to indicate the keys used to work with the APIs that require it
(such as YouTube) as well as various configuration parameters that allow
to customize the behavior of the application such as the choice of text
format to use in case there are multipart emails (plain text or text in
html format). It is important to keep in mind that if the parameters are
not needed, the value can be omitted.</p>
<p>The different options that exist initially and how their value is
indicated to you are shown below.</p>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># [eml]</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;extractorEML.mpaPartSelected&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>PartSelectedOnMPAlternative<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co"># [resources]</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;resources.abbreviations.path&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>abbreviation.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;resources.contractions.path&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>contractions.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;resources.interjections.path&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>interjections.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;resources.slangs.path&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>slangs.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;resources.stopwords.path&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>stopwords.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co"># [teeCSVPipe]</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;teeCSVPipe.output.path&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>outputh.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="co"># [youtube]</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;youtube.app.id&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>app_id<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;youtube.app.password&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>app_password<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;cache.youtube.path&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>cache.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="co"># [cache]</span></span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;cache&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>status_cache<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;cache.folder&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>cache.path<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a><span class="co"># [parallel]</span></span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;numCores&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>num_cores<span class="sc">&gt;</span><span class="er">&gt;</span>)</span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a><span class="co"># [verbose]</span></span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;verbose&quot;</span>, <span class="sc">&lt;</span><span class="er">&lt;</span>status_verbose<span class="sc">&gt;</span><span class="er">&gt;</span>)</span></code></pre></div>
<div id="logging-on-bdpar" class="section level2">
<h2>Logging on bdpar</h2>
<div style="text-align: justify">
<p>The bdpar log is configured through the <em>configureLog</em>
function. This system manages both the place to display the messages and
the priority level of each message showing only the messages with a
higher level than indicated in the threshold variable. The log can be
output either by console, by file, or both.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>bdpar.options<span class="sc">$</span><span class="fu">configureLog</span>(<span class="at">console =</span> <span class="cn">TRUE</span>, <span class="at">threshold =</span> <span class="st">&quot;INFO&quot;</span>, <span class="at">file =</span> <span class="st">&quot;fileLog.log&quot;</span>)</span></code></pre></div>
<p>The type of message changes according to the level indicated:</p>
<ul>
<li>
The <strong>DEBUG</strong>, <strong>INFO</strong> and
<strong>ERROR</strong> levels return a text using the <em>message</em>
function.
</li>
<li>
The <strong>WARN</strong> level returns a text using the
<em>warning</em> function.
</li>
<li>
The <strong>FATAL</strong> level returns a text using the <em>stop</em>
function.
</li>
</ul>
<p>If the case of wanting to deactivate the bdpar log completely, the
<em>disableLog</em> method in <em>bdpar.Options</em> object does this
task. It is important to note that the messages with
<strong>WARN</strong> or <strong>FATAL</strong> level will still be
displayed by console.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>bdpar.options<span class="sc">$</span><span class="fu">disableLog</span>()</span></code></pre></div>
<p>In the case of wanting to see the status of the instances at the
output of each pipe, the <strong>DEBUG</strong> logging mode must be
activated. An example of the output could be:</p>
<pre><code>[0000-00-00 00:00:00][pipeOperator][freduce][DEBUG] Instance_ID:1 (Last pipe: TargetAssigningPipe)
    Path: /_ham_/example.eml
    Date: 
    IsValid: TRUE
    Source: &quot;&quot;
    Data: &quot;&quot;
    FlowPipes: TargetAssigningPipe
    BanPipes: 
    Properties: 
        - target: ham</code></pre>
<p>If the <em>“verbose”</em> option is enabled, for example in the
<em>runPipeline</em> function, only messages with <strong>WARN</strong>
or <strong>FATAL</strong> levels will be displayed by the console.</p>
</div>
</div>
<div id="cache-functionality" class="section level2">
<h2>Cache functionality</h2>
<div style="text-align: justify">
<p>If the bdpar cache is configured through the <em>“cache”</em> and
<em>“cache.folder”</em> options, the status of the instances will be
stored after each pipe. This allows to avoid rejections of previously
executed tasks, if the order and configuration of the pipe and pipeline
is the same as what is stored in the cache. In case of using the
<em>cache</em> parameter, for example in the <em>runPipeline</em>
function, it will set the option to the input value.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;cache&quot;</span>, <span class="cn">TRUE</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;cache.folder&quot;</span>, <span class="st">&quot;path/cache/folder&quot;</span>)</span></code></pre></div>
<p>If you want to remove the cache, the <em>cleanCache</em> method does
this task.</p>
</div>
</div>
<div id="parallelization" class="section level2">
<h2>Parallelization</h2>
<div style="text-align: justify">
<p>The <em>bdpar</em> package allows the parallelization of the
processing of Instances in order to save computational time. This
functionality is configured through the <em>“numCores”</em> option
(included in <em>bdpar.Options</em>) which will indicate the
<strong>number of cores</strong> to be used in the execution.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>bdpar.Options<span class="sc">$</span><span class="fu">set</span>(<span class="st">&quot;numCores&quot;</span>, <span class="dv">2</span>)</span></code></pre></div>
<p>It should be mentioned that in the case of parallelization, the
output of the cores’ log will only be available in <em>file
mode</em>.</p>
</div>
</div>
</div>
<div id="development" class="section level1">
<h1>Development</h1>
<p>The <em>bdpar</em> package is also available in a development version
at the Github development page: <a href="https://github.com/miferreiro/bdpar">github.com/miferreiro/bdpar</a></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
